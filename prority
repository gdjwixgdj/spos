
import java.util.Scanner;

public class PriorityNonPreemptive {

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        // Step 1: Input number of processes
        System.out.print("Enter number of processes: ");
        int n = sc.nextInt();

        // Step 2: Declare arrays for each process attribute
        int[] pid = new int[n];           // Process IDs
        int[] arrivalTime = new int[n];   // Arrival Time
        int[] burstTime = new int[n];     // Burst Time
        int[] priority = new int[n];      // Priority (lower number = higher priority)
        int[] completionTime = new int[n];
        int[] turnAroundTime = new int[n];
        int[] waitingTime = new int[n];
        boolean[] isCompleted = new boolean[n];

        // Step 3: Input all process details
        for (int i = 0; i < n; i++) {
            pid[i] = i + 1;
            System.out.println("\nEnter details for Process P" + pid[i]);
            System.out.print("Arrival Time: ");
            arrivalTime[i] = sc.nextInt();
            System.out.print("Burst Time: ");
            burstTime[i] = sc.nextInt();
            System.out.print("Priority (lower number = higher priority): ");
            priority[i] = sc.nextInt();
        }

        int currentTime = 0, completed = 0;

        // Step 4: Main loop until all processes are completed
        while (completed < n) {
            int idx = -1; // index of next process to execute
            int highestPriority = Integer.MAX_VALUE;

            // Step 5: Select process with highest priority (lowest number)
            for (int i = 0; i < n; i++) {
                if (arrivalTime[i] <= currentTime && !isCompleted[i]) {
                    if (priority[i] < highestPriority) {
                        highestPriority = priority[i];
                        idx = i;
                    } else if (priority[i] == highestPriority) {
                        // If same priority, use arrival time to break tie
                        if (arrivalTime[i] < arrivalTime[idx]) {
                            idx = i;
                        }
                    }
                }
            }

            // Step 6: If no process has arrived yet
            if (idx == -1) {
                currentTime++;
            } else {
                // Process the selected one
                currentTime += burstTime[idx];
                completionTime[idx] = currentTime;
                turnAroundTime[idx] = completionTime[idx] - arrivalTime[idx];
                waitingTime[idx] = turnAroundTime[idx] - burstTime[idx];
                isCompleted[idx] = true;
                completed++;
            }
        }

        // Step 7: Display results
        System.out.println("\nProcess\tAT\tBT\tPR\tCT\tTAT\tWT");
        double totalTAT = 0, totalWT = 0;
        for (int i = 0; i < n; i++) {
            System.out.println("P" + pid[i] + "\t" + arrivalTime[i] + "\t" + burstTime[i] + "\t" + priority[i]
                    + "\t" + completionTime[i] + "\t" + turnAroundTime[i] + "\t" + waitingTime[i]);
            totalTAT += turnAroundTime[i];
            totalWT += waitingTime[i];
        }

        // Step 8: Display averages
        System.out.printf("\nAverage Turnaround Time: %.2f", totalTAT / n);
        System.out.printf("\nAverage Waiting Time: %.2f\n", totalWT / n);

        sc.close();
    }
}



Enter number of processes: 3

Enter details for Process P1
Arrival Time: 0
Burst Time: 5
Priority (lower number = higher priority): 2

Enter details for Process P2
Arrival Time: 1
Burst Time: 3
Priority (lower number = higher priority): 1

Enter details for Process P3
Arrival Time: 2
Burst Time: 8
Priority (lower number = higher priority): 3
